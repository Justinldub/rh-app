<!DOCTYPE html>
<html lang="zxx" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Staging Template">
    <meta name="keywords" content="Staging, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>register</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Aldrich&display=swap" rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
</head>

<body>
   	<!-- Side bar + Preloader -->
   <div th:insert = "side-bar :: side-bar">
   </div>
    
    <!-- Header Section Begin -->
    <header class="header header-normal set-bg" data-setbg="img/little-header.jpg">
        <div th:insert = "registration-header :: registration-header"></div>
    </header>
    <!-- Header Section End -->

    <!-- Contact Section Begin -->
    <section  class="contact spad set-bg" data-setbg="img/bg.jpg" >
        <div class="container">
            <div class="row">
                <div class="col-lg-5">
                    <div class="contact__text">
                        <div class="section-title">
                            <span>Information</span>
                 
                        </div>
                    
                    </div>
                </div>
            </div>
          
          
            <div class="row">
                <div class="col-lg-5">
                    <div class="contact__form__text">
                        <div class="section-title">
                        <h3 class = "text-primary">Employers Registration</h3>
                            <span>Personal Information</span>
                            
                        </div>
                           <p>Please fill in the entire form with your personal information. Please note that we are not going to share this information with anyone we only need it for reference purpose only!</p>
                    
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-10">
                    <div class="contact__form">
                    <h6 class = "text-danger col-lg-4 col-md-6 col-sm-6">Please note that all the information you give will be subjected to screening so ensure that you enter correct information or else your registration will be ignored and you maybe blocked in the future. <br> No registration is fee is required!</h6>
                       <hr style = "color:black;"/>
                       <br>
                        <form method="POST" id = "reg" class = "p-5" style = "border:1px solid rgba(1,1,1,0.5); border-radius:15px;" action="#">
                            <div class="row">
                            <p class = "lead col-lg-12">Please fill form below</p>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input type="text" id = "first_name" placeholder="First Name">
                                </div>
                                 <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input id ="surname" type="text" placeholder="Surname">
                                </div>
                                 <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input id ="id_number" type="text" placeholder="Identity Number">
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input id ="email" type="text" placeholder="Email">
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input id ="contact_numbers" type="text" placeholder="Contact Numbers">
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input id ="nationality" type="text" placeholder="Nationality">
                                </div>
                                 <div class="col-lg-6 col-md-6 col-sm-6">
                                    <select id = "roles" class = "form-control">
                                    	
                                    </select>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input id ="race" type="text" placeholder="Race">
                                </div>
                                <p class =" col-lg-12 lead" >Residential Address</p>
                                
                                <!-- Address inforamation -->
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input type="text" id = "country" name = "country" placeholder="Country">
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input type="text" id = "province" name = "province" placeholder="Provice">
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input type="text" id = "city" name = "city" placeholder="City">
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input type="text" id = "suburb" name = "suburb" placeholder="Suburb">
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input type="text" id = "street_name" name = "street_name" placeholder="Street name">
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input type="text" id = "house_number" name = "house_number" placeholder="House Number">
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <input type="text" id = "code" name = "code" placeholder="Code">
                                </div>
                                
                                <div class="col-lg-12 col-md-6 col-sm-6">
                                   <br>
                                </div>
                                
                                
                            </div>
                            <h4 id = "reg-validate" class = "text-primary"></h4>
                            <div class="col-lg-12 col-md-6 col-sm-6">
                                    <button class ="primary-btn btn text-info col-sm-12 col-lg-12" value = "Submit form">Sign up</button>
                                </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Contact Section End -->

    <!-- Footer Section Begin -->
    <footer class="footer set-bg" data-setbg="img/footer-bg.jpg">
<div th:insert = "footer :: footer"></div>
</footer>
<!-- Footer Section End -->

<!-- Js Plugins -->
<script>
	
</script>
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.slicknav.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/slick.min.js"></script>
<script src="js/main.js"></script>
<script>
     
    $(document).ready(function(){
   
    	$("#news").submit(function(event){
    		event.preventDefault();
    		let NewsMail ={
        			
        			email: $("#mail").val(),
        	}
    		$.ajax({
    			url:"http://localhost:8080/api/save-mail",
    			dataType:"json",
    			headers:{
    				"Content-Type":"application/json"
    			},
    			type:"post",
    			data:JSON.stringify(NewsMail),
    			success:function(data){
    				console.log(data);
    			},
    			error:function(error){
    				console.log(error);
    			}
    		})
    		
    	})
    	
    	$.ajax({
    		url:"http://localhost:8080/api/get-roles",
    		type:"GET",
    		dataType:"json",
    		success:function(data){
    		//	console.log(data);
    			$("#roles").appendHtml
    			for(var i = 0;i < data.length - 1; i++){
    				console.log(data[i]);
    				var opt = $('<option></option>');
    				opt.attr('value',data[i]).text(data[i]);
    				$("#roles").append(opt);
    			}
    			
    		},
    		error:function(message){
    			console.log(message);
    		}
    	})
    	
        $("#reg").submit(function(event){
        	event.preventDefault();
            let person = {
             first_name : $("#first_name").val(),
             surname : $("#surname").val(),
             id_number : $("#id_number").val(),
             email : $("#email").val(),
             contact_numbers : $("#contact_numbers").val(),
             nationality : $("#nationality").val(),
             race : $("#race").val(),
             role : $("#roles").val(),
             
             "address":{
            	 country:$("#country").val(),
            	 province:$("#province").val(),
            	 city:$("#city").val(),
            	 suburb:$("#suburb").val(),
            	 code:$("#code").val(),
            	 street_name:$("#street_name").val(),
            	 house_number:$("#house_number").val(),
             }
          
         }
            
          $.ajax({
               type:"POST",
               dataType:"json",
               headers:{
            	   "Content-type" : "application/json"
               },
               data:JSON.stringify(person),
               crossDomain: true,
               url:"http://localhost:8080/api/register-user",
               success:function(data){
                        console.log("User :"+data +" Is successfully registered");
                        $("#reg-validate").append("You have successfully registered your profile with us. \n We will be in touch");
               },
          		error:function(message){
                    console.log(message);
                }
           })  
           
           
        })
        
    })
    
</script>
</body>

</html>